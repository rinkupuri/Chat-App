import React, { useContext, useEffect, useRef } from "react";
import { ChatContext } from "../context/ChatContext";
import { AuthContext } from "../context/AuthContext";

const Message = ({ message }) => {
  const { data } = useContext(ChatContext);
  const { currentUser } = useContext(AuthContext);
  const ref = useRef();
  useEffect(() => {
    ref.current?.scrollIntoView({ behaviour: "smooth" });
  }, [message]);

  return (
    <div
      ref={ref}
      className={`message ${
        message.senderId == currentUser.uid ? "owner" : ""
      } `}
    >
      {/* <div className="messgeStter"> */}
      <div className="messageInfo">
        <img
          height={30}
          width={30}
          src={
            message.senderId === currentUser.uid
              ? currentUser.photoURL
              : data.user.photoURL
          }
          alt=""
        />
        <span>Just Now</span>
      </div>
      <div className="messageContent">
        {message.input && <p>{message.input}</p>}
        {message.img && (
          <img
            src="data:image/jpeg;base64,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"
            alt=""
          />
        )}
      </div>
    </div>
    // </div>
  );
};

export default Message;
